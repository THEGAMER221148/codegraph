<DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset='UTF-8'>
        <style>
            body {
                background-color: rgb(0, 0, 0);
                overflow: hidden;
            }

            h1 {
                color: black;
            }

            #sidebar {
                box-sizing: border-box;
                position: fixed;
                left: 0%;
                top: 0%;
                width: 40%;
                height: 100%;
                background-color: rgb(10, 10, 10);
                border-color: rgb(20, 20, 20);
                border-style: solid;
                border-width: 5px;
            }

            #viewport {
                box-sizing: border-box;
                position: fixed;
                left: 40%;
                top: 0%;
                width: 60%;
                height: 100%;;
            }

            #viewport-canvas {
                position: relative;
                width: 100%;
                height: 100%;
            }

            .codeBox {
                width: 100%;
                min-height: 0.75in;       /* starting height */
                border: 0.1in solid rgb(20, 20, 20);
                background-color: rgb(10, 10, 10);
                font-family: monospace;
                color: white;
                font-size: 0.5in;
                resize: none;             /* optional: disable manual resize */
                overflow: hidden;         /* hide scrollbars */
            }
        </style>
        <textarea class="codeBox" type="text" id="cell" placeholder="Type here..." style="visibility: hidden;"></textarea>
    </head>
    <body>
        <h1>Hello, world!</h1>
        <div id="sidebar">
            <div id=cells>
                <textarea class="codeBox" type="text" id="cell" placeholder="Type here..." style="visibility: visible;">graph(x^2)</textarea>
                <textarea class="codeBox" type="text" id="cell" placeholder="Type here..." style="visibility: visible;">plot(1, 1)</textarea>
            </div>
            <button class="codeBox" id="newCell" onclick="
                const newNode = document.getElementById('cell').cloneNode(true);
                newNode.addEventListener('input', () => {
                    newNode.style.height = 'auto';       // reset height
                    newNode.style.height = newNode.scrollHeight + 20 + 'px'; // expand to fit content
                });
                newNode.addEventListener('keydown', (event) => {
                    if ((event.key === 'Delete' || event.key === 'Backspace') && newNode.value === '') {
                        console.log('Delete pressed while textarea active');
                        document.getElementById('cells').removeChild(newNode);
                    }
                });
                newNode.style.visibility = 'visible';
                document.getElementById('cells').appendChild(newNode);
            ">Add Cell</button>
        </div>
        <div id="viewport">
            <canvas id="viewport-canvas">viewport</canvas>
        </div>
        <script src="./graphing.js"></script>
    </body>
</html>